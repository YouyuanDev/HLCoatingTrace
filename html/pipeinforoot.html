<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0"/>
    <meta name="format-detection" content="telephone=no,email=no,date=no,address=no">
    <title>涂层生产信息</title>
    <link rel="stylesheet" type="text/css" href="../css/api.css"/>
    <link rel="stylesheet" type="text/css" href="../css/style.css"/>
    <style>
        html,
        body {
            height: 100%;
            background-color: #f4f5f6;
        }

        .title {
            height: 43px;
            line-height: 43px;
            width: 100%;
            text-align: center;
            font-size: 16px;
            color: #222;
            background-color: #fefefe;
            border-bottom: 1px solid #d8d8d8;
            box-sizing: border-box;
            position: relative;
        }

        .title .arrow {
            width: 43px;
            height: 43px;
            position: absolute;
            left: 0;
            bottom: 0;
            background-image: url(../image/back.png);
            background-repeat: no-repeat;
            background-size: 20px 20px;
            background-position: center center;
        }

        .save-contianer {
            position: absolute;
            width: 100px;
            height: 43px;
            bottom: 0;
            right: 0;
        }

        .userinfo-container {
            padding: 5px 10px;
        }

        .userinfo-item {
            width: 100%;
            height: auto;
            display: none;
            margin-bottom:20px;
        }

        .userinfo-item1 {
            text-align: center;
            font-size: 20px;
        }

        .userinfo-item .item-input {
            width: 100%;
            height: 40px;
            outline: none;
            border-bottom: 1px solid #09aa30;
            font-size: 19px;
            text-align:center;
        }
        .userinfo-item label{
           width:100%;
           height:40px;
           line-height:40px;
           border-radius:3px;
           outline: none;
           font-size: 19px;
           text-align: center;
           background-color:#999;
        }
        .userinfo-item1 input {
            width: 20px;
            height: 20px;
            margin: 10px;
        }

        .save-contianer button {
            outline: none;
            background-color: #09aa30;
            color: #FFFFFF;
            padding: 8px 15px;
            border-radius: 3px;
        }
        .user-age span{padding:5px 10px;opacity:0.5;}
    </style>
</head>
<body>

    <div class="title" id="header">
        <div class="arrow event-back"></div>
        <span id="userinfo-tag"></span>
        <div class="save-contianer"><button userinfo-id="" id="save-btn">保存</button></div>
    </div>
    <div class="div-data" id="div-data" style="margin-top:50px;font-size: 16px;color:#000000;font-family:" Sans-serif ";">

    </div>

</body>
</html>

<script type="text/javascript" src="../script/api.js"></script>
<script type="text/javascript" src="../script/jquery-3.3.1.min.js"></script>
<script type="text/javascript" src="../script/common.js"></script>
<script type="text/javascript">
    var UIActionSelector;

    apiready = function() {
        UIActionSelector = api.require('UIActionSelector');

        //返回事件
        $('.event-back').click(function() {
          api.closeWin();
        });
        var data = api.pageParam;
        var pipeinfo = data.pipeinfo;
        var urloptions = data.urloptions;

        //alert("urloptions="+urloptions);
        //显示钢管基础信息
        showPipeBasicInfo(pipeinfo);
        //显示下一工序选项
        showNextProcessOptions(pipeinfo,urloptions);
     }

    //显示钢管基础信息
     function showPipeBasicInfo(pipeinfo){

     }

     //
     function showNextProcessOptions(pipeinfo,urloptions){
       if (urloptions.length == 0) {
           $('#div-data').append('<div id="nodata">无跳转</div>');
       }
       for (var i = 0; i < urloptions.length; i++) {
           $('#div-data').append(nextProcessTemplate(pipeinfo,urloptions[i],i));
       }
     }

     //下一工序按钮的模版
     function nextProcessTemplate(pipeinfo,pipeurlitem,index) {
         var template = '<div class="item style1"  onclick="goNextProcess(' + urlitem.index + ','+pipeinfo+');">' +
             '<div class="itemlogo userlogo"><img src="../image/pipe2.png" alt=""></div>' +

             '</div>';
         return template;
     }


     //跳转下一工序页面
     function goNextProcess(url,pipeinfo){
       var nextURL='./'+url+'.html';
       api.openWin({
           name: url,
           url: nextURL,
           pageParam: {
               pipe_no: pipeinfo.pipe_no
           }
       });
     }


  </script>
